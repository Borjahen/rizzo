"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var React = require("react");

var dataLayer_1 = require("../containers/dataLayer");

var enzyme_1 = require("enzyme");

describe("<DataLayer />", function () {
  it("should be a component", function () {
    var wrapper = enzyme_1.shallow(React.createElement(dataLayer_1.default, {
      data: {
        cd1: "custom dimension"
      }
    }));
    var data = dataLayer_1.default.peek();
    expect(data).toEqual({
      cd1: "custom dimension"
    });
  });
  it("should combine all calls into one object", function () {
    var state = dataLayer_1.reducePropsToState([{
      data: {
        cd1: "foo"
      }
    }, {
      data: {
        cd2: "bar"
      }
    }]);
    expect(state).toHaveProperty("cd1");
    expect(state).toHaveProperty("cd2");
  });
  it("should create an initial data layer script", function () {
    var script = dataLayer_1.createDataLayerScript({
      cd1: "foo",
      cd2: "bar"
    });
    expect(script).toMatchSnapshot();
  });
});