"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var webpack = require("webpack");
var userConfig_1 = require("./userConfig");
var utils_1 = require("./utils");
var ManifestPlugin = require("webpack-manifest-plugin");
exports.commonPlugins = [
    new ManifestPlugin({
        writeToFileEmit: true,
    }),
    new webpack.ContextReplacementPlugin(/moment[\/\\]locale$/, /en-gb|en-eu|eu/),
    new webpack.optimize.CommonsChunkPlugin({
        // chunks: ["webpack-hot-middleware/client"],
        minChunks: function (module, count) { return utils_1.isVendor(module); },
        names: ["vendor"],
    }),
    new webpack.optimize.CommonsChunkPlugin({
        chunks: Object.keys(userConfig_1.userConfig.entry),
        minChunks: function (module, count) { return !utils_1.isVendor(module) && count > 5; },
        name: "common",
    }),
    new webpack.optimize.CommonsChunkPlugin({
        minChunks: Infinity,
        name: "manifest",
    }),
];
