"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var setLocation_1 = require("../../middleware/setLocation");
describe("setLocation", function () {
    var requestMock;
    var responseMock;
    var nextMock;
    beforeEach(function () {
        requestMock = {
            url: "request url",
        };
        nextMock = jest.fn();
    });
    afterEach(function () {
        nextMock.mockReset();
    });
    it("should call next if headers are already sent", function () {
        responseMock = {
            locals: {
                location: "response location",
            },
        };
        setLocation_1.default(requestMock, responseMock, nextMock);
        expect(responseMock.locals.location).toBe("request url");
        expect(nextMock).toHaveBeenCalledTimes(1);
    });
});
