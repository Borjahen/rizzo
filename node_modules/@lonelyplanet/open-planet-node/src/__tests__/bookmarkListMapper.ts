import BookmarkListMapper from "../resources/bookmarkList/mapper";
import {IBookmarkList} from "../resources/bookmarkList/index";

describe("BookmarkListMapper", () => {
  it("should map a bookmark list to a bookmark list model", () => {
    const mapper = new BookmarkListMapper();
    const now = new Date();

    const model: IBookmarkList = mapper.toModel({
      "type": "bookmark-list",
      "relationships": {
        "entries": {
          "data": null
        }
      },
      "id": "ddb5bc5c-88c8-47fb-900a-51ce94d4fd68",
      "attributes": {
        "visibility": "public",
        "updated_at": now.toISOString(),
        "source": "guides",
        "name": "Prague visit",
        "inserted_at": now.toISOString(),
        "extra": "113746",
        "entries_count": 3
      }
    });

    expect(model.id).toBe("ddb5bc5c-88c8-47fb-900a-51ce94d4fd68");
    expect(model.name).toBe("Prague visit");
    expect(model.source).toBe("guides");
    expect(model.visibility).toBe("public");
    expect(model.updatedAt instanceof Date).toBeTruthy();
    expect(model.updatedAt.toString()).toBe(now.toString());
    expect(model.insertedAt instanceof Date).toBeTruthy();
    expect(model.insertedAt.toString()).toBe(now.toString());
    expect(model.extra).toBe("113746");
    expect(model.expectedEntriesCount).toBe(3);
  });
});
