"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var inversify_1 = require("inversify");
var client_1 = require("../client");
var http_1 = require("../http");
var auth_1 = require("../auth");
var resources_1 = require("./resources");
var TYPES = require("../types");
var container = new inversify_1.Container();
resources_1.default(container);
container.bind(TYPES.AuthParams).toConstantValue({
    clientId: process.env.AUTH_CLIENT_ID,
    host: process.env.AUTH_HOST,
});
container.bind(TYPES.OpenPlanetHost).toConstantValue(process.env.OPEN_PLANET_HOST);
container.bind(TYPES.Auth).to(auth_1.default);
container.bind(TYPES.HttpClient).to(http_1.default);
container.bind(TYPES.OpenPlanetNode).to(client_1.default);
container.bind("AccessToken").toDynamicValue(function (context) {
    return {
        token: "foobar",
    };
});
container.bind(TYPES.IClientFactory)
    .toFactory(function (context) {
    return function () {
        var client = context.container.get(TYPES.OpenPlanetNode);
        client.clientId = process.env.CLIENT_ID;
        return client;
    };
});
exports.default = container;
